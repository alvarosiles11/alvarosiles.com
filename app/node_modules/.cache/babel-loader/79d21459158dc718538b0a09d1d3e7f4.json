{"ast":null,"code":"/**\r\n * Copyright (c) Nicolas Gallagher.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * \r\n */\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport useLayoutEffect from '../useLayoutEffect';\nimport UIManager from '../../exports/UIManager';\nvar DOM_LAYOUT_HANDLER_NAME = '__reactLayoutHandler';\nvar didWarn = !canUseDOM;\nvar resizeObserver = null;\nfunction getResizeObserver() {\n  if (canUseDOM && typeof window.ResizeObserver !== 'undefined') {\n    if (resizeObserver == null) {\n      resizeObserver = new window.ResizeObserver(function (entries) {\n        entries.forEach(function (entry) {\n          var node = entry.target;\n          var onLayout = node[DOM_LAYOUT_HANDLER_NAME];\n          if (typeof onLayout === 'function') {\n            // We still need to measure the view because browsers don't yet provide\n            // border-box dimensions in the entry\n            UIManager.measure(node, function (x, y, width, height, left, top) {\n              var event = {\n                // $FlowFixMe\n                nativeEvent: {\n                  layout: {\n                    x: x,\n                    y: y,\n                    width: width,\n                    height: height,\n                    left: left,\n                    top: top\n                  }\n                },\n                timeStamp: Date.now()\n              };\n              Object.defineProperty(event.nativeEvent, 'target', {\n                enumerable: true,\n                get: function get() {\n                  return entry.target;\n                }\n              });\n              onLayout(event);\n            });\n          }\n        });\n      });\n    }\n  } else if (!didWarn) {\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');\n      didWarn = true;\n    }\n  }\n  return resizeObserver;\n}\nexport default function useElementLayout(ref, onLayout) {\n  var observer = getResizeObserver();\n  useLayoutEffect(function () {\n    var node = ref.current;\n    if (node != null) {\n      node[DOM_LAYOUT_HANDLER_NAME] = onLayout;\n    }\n  }, [ref, onLayout]); // Observing is done in a separate effect to avoid this effect running\n  // when 'onLayout' changes.\n\n  useLayoutEffect(function () {\n    var node = ref.current;\n    if (node != null && observer != null) {\n      if (typeof node[DOM_LAYOUT_HANDLER_NAME] === 'function') {\n        observer.observe(node);\n      } else {\n        observer.unobserve(node);\n      }\n    }\n    return function () {\n      if (node != null && observer != null) {\n        observer.unobserve(node);\n      }\n    };\n  }, [ref, observer]);\n}","map":{"version":3,"names":["canUseDOM","useLayoutEffect","UIManager","DOM_LAYOUT_HANDLER_NAME","didWarn","resizeObserver","getResizeObserver","window","ResizeObserver","entries","forEach","entry","node","target","onLayout","measure","x","y","width","height","left","top","event","nativeEvent","layout","timeStamp","Date","now","Object","defineProperty","enumerable","get","process","env","NODE_ENV","console","warn","useElementLayout","ref","observer","current","observe","unobserve"],"sources":["C:/Users/julieta/Documents/GitHub/alvarosiles.com/app/node_modules/react-native-web/dist/modules/useElementLayout/index.js"],"sourcesContent":["/**\r\n * Copyright (c) Nicolas Gallagher.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * \r\n */\r\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\r\nimport useLayoutEffect from '../useLayoutEffect';\r\nimport UIManager from '../../exports/UIManager';\r\nvar DOM_LAYOUT_HANDLER_NAME = '__reactLayoutHandler';\r\nvar didWarn = !canUseDOM;\r\nvar resizeObserver = null;\r\n\r\nfunction getResizeObserver() {\r\n  if (canUseDOM && typeof window.ResizeObserver !== 'undefined') {\r\n    if (resizeObserver == null) {\r\n      resizeObserver = new window.ResizeObserver(function (entries) {\r\n        entries.forEach(function (entry) {\r\n          var node = entry.target;\r\n          var onLayout = node[DOM_LAYOUT_HANDLER_NAME];\r\n\r\n          if (typeof onLayout === 'function') {\r\n            // We still need to measure the view because browsers don't yet provide\r\n            // border-box dimensions in the entry\r\n            UIManager.measure(node, function (x, y, width, height, left, top) {\r\n              var event = {\r\n                // $FlowFixMe\r\n                nativeEvent: {\r\n                  layout: {\r\n                    x: x,\r\n                    y: y,\r\n                    width: width,\r\n                    height: height,\r\n                    left: left,\r\n                    top: top\r\n                  }\r\n                },\r\n                timeStamp: Date.now()\r\n              };\r\n              Object.defineProperty(event.nativeEvent, 'target', {\r\n                enumerable: true,\r\n                get: function get() {\r\n                  return entry.target;\r\n                }\r\n              });\r\n              onLayout(event);\r\n            });\r\n          }\r\n        });\r\n      });\r\n    }\r\n  } else if (!didWarn) {\r\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\r\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');\r\n      didWarn = true;\r\n    }\r\n  }\r\n\r\n  return resizeObserver;\r\n}\r\n\r\nexport default function useElementLayout(ref, onLayout) {\r\n  var observer = getResizeObserver();\r\n  useLayoutEffect(function () {\r\n    var node = ref.current;\r\n\r\n    if (node != null) {\r\n      node[DOM_LAYOUT_HANDLER_NAME] = onLayout;\r\n    }\r\n  }, [ref, onLayout]); // Observing is done in a separate effect to avoid this effect running\r\n  // when 'onLayout' changes.\r\n\r\n  useLayoutEffect(function () {\r\n    var node = ref.current;\r\n\r\n    if (node != null && observer != null) {\r\n      if (typeof node[DOM_LAYOUT_HANDLER_NAME] === 'function') {\r\n        observer.observe(node);\r\n      } else {\r\n        observer.unobserve(node);\r\n      }\r\n    }\r\n\r\n    return function () {\r\n      if (node != null && observer != null) {\r\n        observer.unobserve(node);\r\n      }\r\n    };\r\n  }, [ref, observer]);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}