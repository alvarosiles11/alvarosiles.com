{"ast":null,"code":"var SOrdenador = /** @class */function () {\n  function SOrdenador(arrProps) {\n    this.arrProps = arrProps;\n  }\n  SOrdenador.prototype.ordenar = function (data) {\n    var keys = this.ordernarObject(data);\n    var newData = {};\n    for (var i = 0; i < keys.length; i++) {\n      newData[keys[i]] = data[keys[i]];\n    }\n    return newData;\n  };\n  SOrdenador.prototype.recursiveData = function (data, key) {\n    var dataFinal;\n    var arr = key.split(\"/\");\n    for (var i = 0; i < arr.length; i++) {\n      if (data) {\n        dataFinal = data[arr[i]];\n        if (dataFinal) {\n          data = dataFinal;\n        }\n      }\n    }\n    return data;\n  };\n  SOrdenador.prototype.ordernarObject = function (data) {\n    var _this = this;\n    this.data = data;\n    if (!this.data) {\n      return [];\n    }\n    var arr = Object.keys(this.data);\n    if (arr.length <= 0) {\n      return [];\n    }\n    // var ordInt = (order == \"asc\" ? 1 : -1);\n    var instance = this;\n    arr.sort(function (a, b) {\n      // 0 iguales , 1 mayor ,  -1 menor\n      var peso = 0;\n      for (var i = 0; i < _this.arrProps.length; i++) {\n        var prop = _this.arrProps[i];\n        var prioridad = prop.peso || _this.arrProps.length - i;\n        var ordInt = prop.order == \"asc\" ? 1 : -1;\n        var valA = _this.recursiveData(instance.data[a], prop.key) || 1;\n        var valB = _this.recursiveData(instance.data[b], prop.key) || 1;\n        // if(!valA) valA = 0;\n        // if(!valB) valB = 0;\n        // if (/^[0-9]+([\\,\\.][0-9]+)?/gm.test(valA)) {\n        //     valA = parseFloat(valA);\n        // }\n        // if (/^[0-9]+([\\,\\.][0-9]+)?/gm.test(valB)) {\n        //     valB = parseFloat(valB);\n        // }\n        if (typeof valA == \"string\") valA = valA.toLowerCase();\n        if (typeof valB == \"string\") valB = valB.toLowerCase();\n        peso += valA < valB ? -1 * prioridad * ordInt : valA > valB ? 1 * prioridad * ordInt : 0;\n      }\n      return peso < 0 ? -1 : peso > 0 ? 1 : 0;\n      // \n    });\n\n    return arr;\n  };\n  return SOrdenador;\n}();\nexport default SOrdenador;","map":{"version":3,"names":["SOrdenador","arrProps","prototype","ordenar","data","keys","ordernarObject","newData","i","length","recursiveData","key","dataFinal","arr","split","_this","Object","instance","sort","a","b","peso","prop","prioridad","ordInt","order","valA","valB","toLowerCase"],"sources":["/home/alvaro/Documentos/GitHub/alvarosiles.com/app/node_modules/servisofts-component/Component/SOrdenador/index.js"],"sourcesContent":["var SOrdenador = /** @class */ (function () {\n    function SOrdenador(arrProps) {\n        this.arrProps = arrProps;\n    }\n    SOrdenador.prototype.ordenar = function (data) {\n        var keys = this.ordernarObject(data);\n        var newData = {};\n        for (var i = 0; i < keys.length; i++) {\n            newData[keys[i]] = data[keys[i]];\n        }\n        return newData;\n    };\n    SOrdenador.prototype.recursiveData = function (data, key) {\n        var dataFinal;\n        var arr = key.split(\"/\");\n        for (var i = 0; i < arr.length; i++) {\n            if (data) {\n                dataFinal = data[arr[i]];\n                if (dataFinal) {\n                    data = dataFinal;\n                }\n            }\n        }\n        return data;\n    };\n    SOrdenador.prototype.ordernarObject = function (data) {\n        var _this = this;\n        this.data = data;\n        if (!this.data) {\n            return [];\n        }\n        var arr = Object.keys(this.data);\n        if (arr.length <= 0) {\n            return [];\n        }\n        // var ordInt = (order == \"asc\" ? 1 : -1);\n        var instance = this;\n        arr.sort(function (a, b) {\n            // 0 iguales , 1 mayor ,  -1 menor\n            var peso = 0;\n            for (var i = 0; i < _this.arrProps.length; i++) {\n                var prop = _this.arrProps[i];\n                var prioridad = prop.peso || _this.arrProps.length - i;\n                var ordInt = (prop.order == \"asc\" ? 1 : -1);\n                var valA = _this.recursiveData(instance.data[a], prop.key) || 1;\n                var valB = _this.recursiveData(instance.data[b], prop.key) || 1;\n                // if(!valA) valA = 0;\n                // if(!valB) valB = 0;\n                // if (/^[0-9]+([\\,\\.][0-9]+)?/gm.test(valA)) {\n                //     valA = parseFloat(valA);\n                // }\n                // if (/^[0-9]+([\\,\\.][0-9]+)?/gm.test(valB)) {\n                //     valB = parseFloat(valB);\n                // }\n                if (typeof valA == \"string\")\n                    valA = valA.toLowerCase();\n                if (typeof valB == \"string\")\n                    valB = valB.toLowerCase();\n                peso += (valA < valB) ? (-1 * prioridad * ordInt) : (valA > valB) ? (1 * prioridad * ordInt) : 0;\n            }\n            return (peso < 0) ? (-1) : (peso > 0) ? (1) : 0;\n            // \n        });\n        return arr;\n    };\n    return SOrdenador;\n}());\nexport default SOrdenador;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}